resources:
  jobs:
    well_job:
      name: "Well Job"
      permissions:
        - level: CAN_MANAGE
          service_principal_name: "2b83ea0a-cd04-4bcb-9962-ee4bd147973a"
      tasks:
        - task_key: run-well-notebook
          new_cluster:
            spark_version: 17.1.x-scala2.13
            node_type_id: rd-fleet.xlarge
            num_workers: 0
            data_security_mode: SINGLE_USER
            spark_conf:
              "spark.databricks.cluster.profile": "singleNode"
              "spark.master": "local[*]"
              # "spark.databricks.sql.initial.catalog.name": "geodata"
            custom_tags:
              ResourceClass: SingleNode
          notebook_task:
            notebook_path: ../src/notebooks/well.ipynb

    main_job:
      name: "Main Job"
      permissions:
        - level: CAN_MANAGE
          service_principal_name: "2b83ea0a-cd04-4bcb-9962-ee4bd147973a"
      tasks:
        - task_key: run-main-python
          new_cluster:
            spark_version: 14.3.x-scala2.12
            node_type_id: i3.xlarge
            num_workers: 0
            spark_conf:
              "spark.databricks.cluster.profile": "singleNode"
              "spark.master": "local[*]"
            custom_tags:
              ResourceClass: SingleNode
          spark_python_task:
            python_file: ../src/job/main.py
